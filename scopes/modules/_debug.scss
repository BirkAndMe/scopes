$scope_debug_activation_code: 'iddqd' !default;

///
@mixin scope-debug() {
  @if (function_exists('scope-js-set-variable')) {
    $nop: scope-js-set-variable('debug', $scope_debug_activation_code);
  }

  .scopes-debug-activated {
  	width: 49px;
    height: 55px;
    position: fixed;
    z-index: 999;
    top: 50%;
    left: 50%;

    opacity: 0;
    transition: opacity 400ms ease;

    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAA3CAMAAACSG1IzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjgzRDgxNTRENkY1MTFFNDhGNDZBRjIzNEY5MkM4QTEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjgzRDgxNTVENkY1MTFFNDhGNDZBRjIzNEY5MkM4QTEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODNEODE1MkQ2RjUxMUU0OEY0NkFGMjM0RjkyQzhBMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODNEODE1M0Q2RjUxMUU0OEY0NkFGMjM0RjkyQzhBMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PunGwtYAAALTUExURSgZDUk4JT0wHkk2G1U7GmVCG8uDUysmDF4+HoxeOWFCKmtEILV5TJpjPJNbN6NqPTEeDllCKVU9J5FiO3xWMYRaNoRdOqpyS9qTYcWCUpNlQWdGKyAVDKNsRHxRLltGMtKMXTYnGJ1qQlE+MNGSYsiIZHRSM7J6UndMMaxuRGxRNzYnD+Sca719UUcxH8Z7StOLY1I/HmxKJoxZM6xyQzcvDnNOKcuLXa90UaNnQ5xlQrF2S3NRLNKDVaJlOphmJ4piO8l+UWJJLqBdKYlkRbuBVJluUYNVMqt4QaR0SzEpH82FWmNDI2NJI6huSKprPKJtMIVVLHxZNpRZJXhMJ7JzRbx5TqtxOpVgNJFoPaNiNrp+WnxOKYJVOc2IU+uba5xoPNSxbLt0SdmNX7NsLahnPIBgOWtLLZdpQ8OKW/61ikErFnBSJemkbXFKJad6VbmASnpIItKMVZthM9GHV6VwReygc4tcQ001EeKZZrBuM/SqfXtWOPGodGY6FKpnK31dKNSUat+PYXRZPXVGIf2yhNuTaFY1EN2ZbH1dQv/9w6x4TcmTZiojGHdHCeOTZtWzf/Gia/Kmerx0QryEW758RMOGWciJWLJ9WsKYUf++iHpEFfy7lOSgc7aBWtuZY+idcKt4M2RMPbJ4Qp1rSqFvT//QqbeDPseCRt2ec/65hHBUO/KldaNvSf/xvP/DlOCYXteRXOuiecWVWYlQHP25itaIVpJuSZh0R6prNJl8ZWlQKOupe5d2WvmzfFAuFNGYaZ91PNmHVrV2Ob6STMSgWvmneoJmUeSWa4dOJbmOY49SL/bYlrSLUHxXGSQdFemogHRYRfSxjbKGVbBjMaJ5TObIhtGGTbVuRbuJXemueeuWZ/Oyhf6se+6xe6mAXLmVVJNoNe6zibmKVBYVFHhRDrdwLvqqd/Ktg+3Sjeu3khoaGf2ldx8aF93EhOybY////wUqoxQAAADxdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wCpCmekAAAIhUlEQVR42nSWhV9byRbHc2PE3Y0QD3EhCRYIUtzdrbh7cbdCoaVY0bq7u3u3srtvXZ/7e/wJ74Zut6Hd95vP59pnvvecmTln5kDW3ytSTHZ3J5ODgk54OnUCbEHuoMRApEsvyPsnCNQQQ45BILDYwYTkwYTs+jA/P2N0NIZMgXr8FgEVU8jwGFRVNlpUJ8dllUvn5LaIiAw6zRKNcicD0MiPCAD0Q0bLzhA1h8+ME1NCbUwmn38Kjw4TYLlcEPmQqAQonrIcdBln9ZuZ0DlfopmZjxeJCHgCAU0XyDyDKADwzrV3BIXbSUMTfAi2rLnQUKKyuVkkopqoBDQaTVeUemIALUjwXAkVRcEQCF7gCXjvWDuB2MyncjLAD4Jki8CIMsBhlSqVigRxISpVcG5idn09geDjLcKb8qnUBGwNjYZFoBAxMQaYl5fKzc1txw4XAqqFI2jJg8loUxmVikZT6WWBIyO0EiwKbogxbPPyctuQKxEJ3QY3IhCWwJAaemAGjUajM1AIbKkxGr4NZjB4uW20SDdXG1DYthjQg5ISo19ICRZrTGQYsQg4N3pkG4h4qUArXtDITV4BMMMNY9UNOKrEDzXiJ6vxq8Fi6a2cEAajM3HMj0yBQWHvpvdXAj7gl3gDjkj0QyCMfjXJ2MFBuglNpVLpYeD0YuCVWi2U5EIAIFFVRaNZjAi/QEZ3crbJxMHzRek+eB+CiZBjUnDvwAFA9Z6IhAJwFC2MmkFPSKZyONkJCYR0Ed93PI5PtDfivX3wOYo7cJjWZeRuUAoKi6by+eM2H59Y5immr68ch1OaD4THxxGJvkzblkAUGYC5EDugMJAgEJk4ZUpxsR0H3n3NuBQcSKTFxeGUsSI0Cg5zIXhuAAyj8G4MnWezkbqvC4uVTD4z3GxOS4s/cKAJqUMicenYaJjLyF+7AQAXJOrY51jn/At1heBP8/PziWlpZg27qKi/iF2Iry8la3+dXQjEDQpgFPh0nOTmTTWrCZmq9Manm9LtZo1GOLx3b4swCodP9qNUQjzeEhCQgMFQioMR5RN/+H5lWK+X4pzZpFTiojRRw+c7KvqscrxARgY8IDzeBkEiqbzgmJxD48//cfjw8s1joxLpjHRiYkIqXRk9/+az5cOfHZPWJspgKpLKw+nSunhgwACHRyvCEtB0Tpl84u7dOXt6rDwry7tYwx61ZsV6EwhhYRYZ2UAWfwqABGn/9VsxTqIe3ES6EdQ/TlwIT6q3x9qYL16kpNxdPWXq7h7EJltkcEOQ5/X9IMHbf/3KjW0jWDqaHsiwWDLu3bsXcHEyPV/p/exiY1L47zMykhloOpqRiDIEBV13d45i/60tMSMjxtZDtVevXA3s7X3158nJyYtJhMalpcnJV696e69mXP0iIoPRDY8pvbUfnCceJaS3qsrCOZSd8MXO09u3f1JQsCcg4MAFicSeeWFPwSfbt5/e+fxeQkRtoNFS+gTjtCFuZSCqag4uPKv/fOfp0xtEfED7vKQhPn7Pw4K/O4kL+UvyZioCwR2jgDYgWlkNolfAsRGejX++s+DLgkd79gUEt+eurV0L2HfkUcGX/9n5so6YpOFzBBbsCWCDUJQiegN9bF/HhYd/8/LCnodHjmzdOtuvrp69duTIw58f/fwyHAzHVBs+B4U5AYM412OsE1EVdkiqz9XUpYUHxO/bd7Th8tSuvx4/23B0Ni0gICC8ju0AA8EnB8UdAJwxAnyqMNLCmPphIXL2WlpS/L4HRy/f/+5fPwyxvjr61YP4pID4Op1/kV7amsPFgONw2ngyhiqhxkr1rJVqlnp2rfr28ZPf5T3+YShv1/HF6ga2da0tr2XKIfVu5WKeiHkgEQm4R9NMfI1mxtrAYp2tXrzdpWa1dJw5s1fd1XW8mtUmZJ3L1WXZQK/cxZEb0b7DA0NLSDebfeuaLvvvrTgzNCqxrlw6fPiYkKU+U3Ey77JDt1uZ5kMQRIs9/uS08c9/QzCdAhORqPTV9fc/HqqY1kdl9b1ZXu6TWq2XhjpapnS63XFEPCOH6/6a90ueU2QCkzcxLtX/5MlptV6vzPSJtS0sHOT7FveNtkx3NOl220V4uowifv1uZ/DgKtCx9mINq+L7FUkocyk7jBpyJaQzrH5J0wdmVBGyMLP5SiJX5fEuzyEQioJjy8xkqy9dOiYJJXYPZgtojERLTfcSrk99vuJpUWqm/Kex6LcHyNsLpZSzgM+MUg9VDM9rcI35Iiqawyk7mB4QKol6OtTSn9q48FMihQdx2UWDQhbsmcLp6ekoNltvTQ315RO95aF3y+esjqnHeXlI++rzAYPrGQWQO2uJxVFFT9VIvZDVcWnxZhtr7fbxH7+VCP398/qLCosjtgTBXAkoZaA2gshmqVuQDcK1rsXF6rPnzt5e/PHbc03+9/P6m1LNEbc2E+se5BJRc918n9AeHJx5rf1B+9aenr9sbW8PDv7d7vv+SByfEaIlbTpr1wHZlYhQtj43Ljg4uKenfatTPT09TsIfOY87ZRnw2FwB8KDkkkBiqsPh0On8WVNtu0D99yyrAanTOZCp5nwOyp30QZUBBcYCmYUOx/0oB7KpTV3d1dWV19aAzAUb2ywvC4GJP6pLSEHGMk1U1LCUrUlpTEq6eDEpKThlN7tJIikfj6AHkSAfETxAK8MXpkqs1nlcitI3xVduTimczRVKyuVlDC4Mwvu4vlpfF9OYzeXWUaED6V/UtlctZCOPsoTlq7UyrvY9sImAcgM5qzPgoiEvT53sOD+MzM0VzslrQzDAb1ZkG/UMHMXg1GZJR1f+tnxm+c0xazlOBAZ5JWn9/xEQFUmL6Ww9xLTJs2ZW5REHTwkQd+6QXFz6kABfPbTunq1bfhEjBKMlqXgfdFn/QJEAIHbHbIhMdgc2e+TU/wQYAOxTdkn4Z/SwAAAAAElFTkSuQmCC');

    &.show {
      transition: opacity 200ms ease;

      opacity: 1;
    }
  }

  //
  // We can't call a mixin using a variable, so we still need to hardcode all
  // the module specific debugging here.
  //

  // Grid module.
  .scopes-debug-grid {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    pointer-events: none;
    width: 100%;
    z-index: 9999;

    .scopes-show-grid & {
      display: block;
    }

    .grid-container {
      @include grid-container(ALL_SCOPES);
      height: 100%;

      .single-grid {
        @include grid(1, LIST);
        height: 100%;

        background-color: rgba(255, 50, 50, 0.25);
      }

      $lastgridcount: $__scope_grid_count;
      @include scope-all(ONLY_QUERY) {
        .single-grid {
          @include grid-reset-list(1 of $lastgridcount);
          @include grid(1, LIST);

          $lastgridcount: $__scope_grid_count;
        }
      }
    }
  }
}
